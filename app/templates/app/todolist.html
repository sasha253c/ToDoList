{% extends "app/layout.html" %}

{% block content %}



<h2>{{ title }}</h2>
{#<h3>{{ message }}</h3>#}


<table id="tasks" class="table table-hover table-bordered table-striped">
    <thead>
        <tr>
            <th>Name  <span class="glyphicon glyphicon-menu-right btn-sm" aria-hidden="true"></span></th>
            <th>Description  <span class="glyphicon glyphicon-menu-right btn-sm" aria-hidden="true"></span></th>
            <th>Date  <span class="glyphicon glyphicon-menu-right btn-sm" aria-hidden="true"></span></th>
            <th>Completed  <span class="glyphicon glyphicon-menu-right btn-sm" aria-hidden="true"></span></th>
        </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
        <tr>
            <td>{{ task.name }}</td>
            <td>{{ task.description }}</td>
            <td>{{ task.date|date:'M/d/Y' }}</td>
            <td>{{ task.completed }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a href="{% url 'addtask' %}" class="btn btn-primary">Add</a>

{% endblock %}

{% block scripts %}
<script>
    $(document).ready(function () {
        $("#tasks").tablesorter();

        $('th').click(function () {
            //Clear
            $('th').not(this).removeClass('bg-primary')
                   .children('span').removeClass('glyphicon-menu-up glyphicon-menu-down').addClass('glyphicon-menu-right');

            //Add
            $(this).addClass('bg-primary');

            if ($(this).children('span').hasClass('glyphicon-menu-down')) {
                $(this).children('span').removeClass("glyphicon-menu-down").addClass("glyphicon-menu-up");
            }
            else {
                $(this).children('span').removeClass("glyphicon-menu-up").addClass("glyphicon-menu-down");
            }
        });

        var now = new Date().toDateString();
        alert(now);
        //add Warning
    });

</script>

{% endblock %}
